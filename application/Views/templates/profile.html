{% extends "base.html" %}
{% block title %}profile{% endblock %}
{% block content %}
<nav class="navbar bg-info">
  <div class="container d-flex justify-content-center">
    <span class="navbar-brand" style="font-size: 150%;">PROFILE</span>
  </div>
</nav>
<div class="mt-2 profile">
  <div class="photo">
    <div class="d-flex justify-content-center">
      <form id="upload-prof-img" name="upload-prof-img" method="POST" enctype="multipart/form-data">
        <label for="img-input">
          <img id="prof-img" name="prof-img" class="img-fluid" src="{{url_for('static',filename=user['photo'])}}" style="border: 3px solid green;border-radius: 50%;" alt="" width="200" height="200">
          <input type="file" id="img-input" name="img-input" style="display:none;" onchange="handleImage();">
        </label>
      </form>
    </div>
  </div>

  <div class="name">Name: </div>
  <div class="text-info Name">{{user["name"]}}</div>
  <div class="Freinds">Freinds: </div>
  <div class="text-info Num-Freinds">{{user["freinds"]}}</div>
  <div class="totalmessages">Total Messages: </div>
  <div class="text-info Num-Messages">{{user["num_messages"]}}</div>
</div>
<div class="mt-2 change-btns">
  <button type="button" class="btn btn-primary" id="change-name-btn">Change Name</button>
  <button type="button" class="btn btn-primary" id="change-password-btn">Change Password</button>
</div>
<div class="d-flex flex-column">
  <!--change-name toast--> 
  <div id="change-name" class="toast align-self-start" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
    <div class="toast-header">
      <!-- <img src="..." class="rounded me-2" alt="..."> -->
      <strong class="me-auto">Change Name</strong>
      <small class="text-body-secondary">current time</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      <form method="POST" name="change-name-form" onSubmit="return validateChangeNameForm()">
        <div class="d-flex justify-content-center">
         <div class="form-floating mb-3">
          <input type="text" class="form-control" id="name" name="name" placeholder="{{user['name']}}">
          <label for="name">{{user['name']}}</label>
         </div> 
        </div>
        <div class="d-flex justify-content-center">
          <button class="btn btn-outline-info" type="submit">save</button>
        </div>
      </form>
    </div>
  </div>

  <!--change password toast  align-self-end-->
  <div id="change-password" class="toast align-self-end" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
    <div class="toast-header">
      <!-- <img src="..." class="rounded me-2" alt="..."> -->
      <strong class="me-auto">Change Password</strong>
      <small class="text-body-secondary">current time</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      <form method="POST" name="change-password-form" onSubmit="return validateChangePasswordForm()">
        <div class="mb-2 d-flex justify-content-center">
          <label class="form-label" for="password1">Old Password
            <input class="form-control" type="password" name="password" placeholder="Enter Old Password" required>
          </label>
        </div>
        <div class="mb-2 d-flex justify-content-center">
          <label for="password2">New Password
            <input class="form-control" type="password" name="password2" placeholder="Set New Password" required>
          </label>
        </div>
        <div class="mb-2 d-flex justify-content-center">
          <label for="password3">Confirm New Password
            <input class="form-control" type="password" name="password3" placeholder="Re-enter New Password" required>
          </label>
        </div>
        <div class="mb-2 d-flex justify-content-center">
          <button class="btn btn-outline-info" type="submit">submit</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %} 

